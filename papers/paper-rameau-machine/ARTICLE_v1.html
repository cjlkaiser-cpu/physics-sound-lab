<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Rameau Machine: Gravedad Tonal y Armonía Funcional Generativa</title>
  <link rel="stylesheet" href="paper-style.css" />
  <style>
    .epigraph {
      font-style: italic;
      text-align: right;
      margin: 2rem 0;
      padding-right: 2rem;
      color: #555;
    }
    .epigraph-source {
      font-size: 0.9em;
      margin-top: 0.5rem;
    }
    .note-box {
      background: #ecfdf5;
      border-left: 3px solid #22c55e;
      padding: 1rem 1.5rem;
      margin: 1.5rem 0;
    }
    .note-box.warning {
      background: #fef2f2;
      border-left-color: #ef4444;
    }
    .note-box.info {
      background: #eff6ff;
      border-left-color: #3b82f6;
    }
    .diagram {
      font-family: 'Source Code Pro', monospace;
      font-size: 0.85em;
      background: #f5f5f5;
      padding: 1rem;
      overflow-x: auto;
      border-radius: 4px;
      line-height: 1.4;
      text-align: center;
    }
    .highlight-quote {
      font-size: 1.1em;
      text-align: center;
      padding: 1.5rem;
      margin: 2rem 0;
      background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
      border-radius: 8px;
    }
    .function-t { color: #16a34a; font-weight: 600; }
    .function-s { color: #2563eb; font-weight: 600; }
    .function-d { color: #dc2626; font-weight: 600; }
    .comparison-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin: 1.5rem 0;
    }
    .comparison-card {
      background: #fafafa;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 1rem;
    }
    .comparison-card h4 {
      margin-top: 0;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid;
    }
    .comparison-card.rameau h4 { border-color: #22c55e; color: #16a34a; }
    .comparison-card.riemann h4 { border-color: #3b82f6; color: #2563eb; }
    .timeline {
      position: relative;
      padding-left: 2rem;
      margin: 1.5rem 0;
    }
    .timeline::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, #22c55e, #ef4444);
    }
    .timeline-item {
      position: relative;
      margin-bottom: 1rem;
      padding-left: 1rem;
    }
    .timeline-item::before {
      content: '';
      position: absolute;
      left: -2rem;
      top: 0.4rem;
      width: 10px;
      height: 10px;
      background: #f59e0b;
      border-radius: 50%;
      transform: translateX(-4px);
    }
    .timeline-year {
      color: #b45309;
      font-weight: 600;
    }
    @media (max-width: 600px) {
      .comparison-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

<header id="title-block-header">
  <h1 class="title">Rameau Machine: Gravedad Tonal y Armonía Funcional Generativa</h1>
  <p style="font-style: italic; color: #666;">Un sistema donde la tónica actúa como sol gravitacional y los acordes orbitan según su función armónica</p>
  <p style="font-size: 0.9rem; color: #666; margin-top: 1rem;">Diciembre 2025</p>
</header>

<nav id="TOC" role="doc-toc">
  <strong>Contenidos</strong>
  <ul>
    <li><a href="#abstract">Resumen</a></li>
    <li><a href="#introduccion">1. Introducción: Dos Visiones de la Armonía</a></li>
    <li><a href="#rameau">2. Jean-Philippe Rameau y el Bajo Fundamental</a></li>
    <li><a href="#funciones">3. Las Tres Funciones Armónicas</a></li>
    <li><a href="#gravedad">4. Gravedad Tonal: Un Modelo Físico</a></li>
    <li><a href="#markov">5. Cadenas de Markov con Memoria</a></li>
    <li><a href="#voiceleading">6. Voice Leading: El Arte de la Conducción</a></li>
    <li><a href="#implementacion">7. Implementación Técnica</a></li>
    <li><a href="#comparativa">8. Rameau vs. Riemann: Dos Geometrías</a></li>
    <li><a href="#conclusiones">9. Conclusiones</a></li>
    <li><a href="#referencias">Referencias</a></li>
  </ul>
</nav>

<section id="abstract">
  <h2>Resumen</h2>
  <p>
    Mientras que la teoría Neo-Riemanniana trata los acordes como ciudadanos iguales en un espacio simétrico, la armonía funcional de <strong>Jean-Philippe Rameau</strong> (1722) los organiza en una jerarquía gravitacional. Este artículo presenta <em>Rameau Machine</em>, un sistema generativo donde la tónica actúa como centro de masa, la tensión se acumula al alejarse de ella, y las cadenas de Markov con pesos dinámicos producen progresiones que respetan tres siglos de práctica musical.
  </p>
  <p class="keywords"><strong>Palabras clave:</strong> armonía funcional, Rameau, gravedad tonal, Markov, voice leading, Web Audio API</p>
</section>

<section id="introduccion">
  <h2>1. Introducción: Dos Visiones de la Armonía</h2>

  <div class="epigraph">
    "La música es una ciencia que debe tener reglas definidas; estas reglas deben derivarse de un principio evidente, y este principio no puede ser conocido sin la ayuda de las matemáticas."
    <div class="epigraph-source">— Jean-Philippe Rameau, <em>Traité de l'harmonie</em> (1722)</div>
  </div>

  <p>
    En el vasto territorio de la teoría musical occidental, dos paradigmas fundamentales compiten por explicar cómo se organizan los acordes y por qué ciertas progresiones nos resultan satisfactorias mientras otras nos sorprenden o inquietan.
  </p>

  <p>
    El primero, codificado por <strong>Jean-Philippe Rameau</strong> en 1722, concibe la armonía como un <em>sistema solar</em>: la tónica es el sol, centro gravitacional alrededor del cual orbitan los demás acordes. Cada acorde tiene una <em>función</em> —estabilidad, tensión, preparación— y la música es un viaje de alejamiento y retorno al hogar.
  </p>

  <p>
    El segundo, desarrollado por los teóricos <strong>neo-riemannianos</strong> a finales del siglo XX, imagina la armonía como un <em>espacio homogéneo</em>: un toroide donde todos los acordes son ciudadanos iguales, conectados por transformaciones simétricas (P, L, R). No hay centro, no hay gravedad, solo movimiento parsimonioso entre vecinos cercanos.
  </p>

  <div class="comparison-grid">
    <div class="comparison-card rameau">
      <h4>Paradigma Funcional (Rameau)</h4>
      <ul>
        <li>Centro: Tónica como "sol" gravitacional</li>
        <li>Movimiento hacia resolución</li>
        <li>Estructura jerárquica (T > D > S)</li>
        <li>Tensión acumulativa que se resuelve</li>
        <li>Ideal para: Bach, Mozart, Jazz</li>
      </ul>
    </div>
    <div class="comparison-card riemann">
      <h4>Paradigma Neo-Riemanniano</h4>
      <ul>
        <li>Sin centro, espacio homogéneo</li>
        <li>Parsimonia de voces</li>
        <li>Estructura simétrica (P = L = R)</li>
        <li>Tensión uniforme, sin resolución</li>
        <li>Ideal para: Wagner, Liszt, Cine</li>
      </ul>
    </div>
  </div>

  <p>
    <strong>Rameau Machine</strong> implementa el primer paradigma: un generador de armonía funcional donde las progresiones emergen de la <em>tensión acumulada</em> y la <em>atracción gravitacional</em> hacia la tónica.
  </p>
</section>

<section id="rameau">
  <h2>2. Jean-Philippe Rameau y el Bajo Fundamental</h2>

  <p>
    Jean-Philippe Rameau (1683-1764) fue compositor, teórico y polemista. Su <em>Traité de l'harmonie réduite à ses principes naturels</em> (1722) revolucionó la teoría musical al proponer que la armonía —no la melodía ni el contrapunto— era el fundamento de la música.
  </p>

  <div class="timeline">
    <div class="timeline-item">
      <span class="timeline-year">1683</span> — Nace en Dijon, hijo de organista
    </div>
    <div class="timeline-item">
      <span class="timeline-year">1722</span> — Publica el <em>Traité de l'harmonie</em>
    </div>
    <div class="timeline-item">
      <span class="timeline-year">1726</span> — <em>Nouveau système de musique théorique</em>
    </div>
    <div class="timeline-item">
      <span class="timeline-year">1733</span> — Estreno de <em>Hippolyte et Aricie</em>, su primera ópera
    </div>
    <div class="timeline-item">
      <span class="timeline-year">1750</span> — <em>Démonstration du principe de l'harmonie</em>
    </div>
    <div class="timeline-item">
      <span class="timeline-year">1764</span> — Muere en París, reconocido como el teórico más importante de Francia
    </div>
  </div>

  <h3>El Principio del Bajo Fundamental</h3>

  <p>
    La innovación clave de Rameau fue el concepto de <em>basse fondamentale</em> (bajo fundamental): cada acorde, independientemente de su inversión, tiene una <em>raíz</em> que determina su identidad y función. Un acorde de Do mayor en primera inversión (Mi-Sol-Do) sigue siendo "un acorde de Do", con Do como su bajo fundamental.
  </p>

  <div class="note-box">
    <strong>Insight Clave:</strong> Antes de Rameau, los teóricos catalogaban cada inversión como un acorde diferente. Rameau unificó todas las inversiones bajo un mismo principio: la raíz o bajo fundamental. Esta abstracción permitió pensar en <em>funciones</em> armónicas.
  </div>

  <p>
    De este principio emergen las <em>funciones armónicas</em>: no todos los acordes son iguales. Algunos proporcionan estabilidad (tónica), otros crean tensión que demanda resolución (dominante), y otros preparan esa tensión (subdominante).
  </p>
</section>

<section id="funciones">
  <h2>3. Las Tres Funciones Armónicas</h2>

  <p>
    En la tonalidad mayor, los siete grados de la escala se agrupan en tres familias funcionales:
  </p>

  <div class="diagram">
    <pre>
                ┌─────────────────────────────────────┐
                │        <span class="function-t">TÓNICA (T)</span>                  │
                │         I    vi    iii              │
                │           estabilidad               │
                └─────────────────┬───────────────────┘
                                  │
                      ┌───────────┴───────────┐
                      ▼                       ▼
        ┌─────────────────────┐     ┌─────────────────────┐
        │ <span class="function-s">SUBDOMINANTE (S)</span>    │     │   <span class="function-d">DOMINANTE (D)</span>      │
        │      IV    ii       │────▶│     V    viiº       │
        │     preparación     │     │      tensión        │
        └──────────┬──────────┘     └──────────┬──────────┘
                   │                           │
                   └───────────┬───────────────┘
                               ▼
                        (resolución a T)
    </pre>
  </div>

  <table>
    <thead>
      <tr>
        <th>Función</th>
        <th>Grados</th>
        <th>Sensación</th>
        <th>Analogía Física</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="function-t">Tónica (T)</span></td>
        <td>I, vi, iii</td>
        <td>Reposo, hogar, resolución</td>
        <td>Punto de equilibrio</td>
      </tr>
      <tr>
        <td><span class="function-s">Subdominante (S)</span></td>
        <td>IV, ii</td>
        <td>Alejamiento, expansión</td>
        <td>Energía potencial</td>
      </tr>
      <tr>
        <td><span class="function-d">Dominante (D)</span></td>
        <td>V, viiº</td>
        <td>Tensión, urgencia</td>
        <td>Compresión del resorte</td>
      </tr>
    </tbody>
  </table>

  <h3>La Progresión Natural</h3>

  <p>
    Rameau identificó una progresión "natural" que recorre las tres funciones:
  </p>

  <div class="highlight-quote">
    <strong>T → S → D → T</strong>
  </div>

  <p>
    Esta progresión (por ejemplo: <strong>I → IV → V → I</strong>) representa el viaje armónico arquetípico: partimos del hogar (T), nos alejamos (S), acumulamos tensión (D), y resolvemos volviendo (T). Es el patrón detrás de incontables canciones populares, himnos religiosos y obras clásicas.
  </p>

  <div class="note-box info">
    <strong>Ejemplo: "Let It Be" (Beatles)</strong><br>
    La progresión <strong>C - G - Am - F</strong> en Do mayor es: <span class="function-t">I</span> - <span class="function-d">V</span> - <span class="function-t">vi</span> - <span class="function-s">IV</span><br>
    Aunque no sigue el orden T-S-D-T exacto, cada acorde cumple su rol funcional, creando el ciclo de tensión-resolución que hace la canción memorable.
  </div>
</section>

<section id="gravedad">
  <h2>4. Gravedad Tonal: Un Modelo Físico</h2>

  <p>
    En <strong>Rameau Machine</strong>, implementamos las funciones armónicas como un <em>campo gravitacional</em>. La tónica es el centro de masa; cuanto más nos alejamos, mayor es la "tensión" acumulada y mayor la fuerza de atracción hacia el centro.
  </p>

  <div class="diagram">
    <pre>
       Visualización del Campo Gravitacional
       ======================================

                     Zona T (centro)
                        ┌───┐
                      ╱  I  ╲
                    ╱   vi   ╲
                   │    iii   │
                   │  ▪▪▪▪▪▪  │ ← menor tensión
                    ╲       ╱
                      ╲   ╱
                 ┌──────────────┐
                 │    Zona D    │
                 │   V   viiº   │ ← tensión media
                 │   ▪▪▪▪▪▪▪▪   │
                 └──────────────┘
              ┌────────────────────┐
              │      Zona S        │
              │    IV      ii      │ ← mayor distancia
              │   ▪▪▪▪▪▪▪▪▪▪▪▪    │
              └────────────────────┘
    </pre>
  </div>

  <p>
    El modelo asigna a cada función un <em>peso de tensión</em>:
  </p>

  <pre><code class="language-javascript">const TENSION_WEIGHTS = {
    'T': 0,    // Sin tensión - equilibrio
    'S': 0.3,  // Tensión moderada - alejamiento
    'D': 0.7   // Alta tensión - necesita resolver
};</code></pre>

  <p>
    A medida que la progresión avanza, acumulamos tensión. Esta tensión modifica las probabilidades de transición: a mayor tensión acumulada, mayor probabilidad de ir hacia la tónica.
  </p>

  <div class="highlight-quote">
    P(T|tensión) = P<sub>base</sub>(T) × (1 + tensión × gravityStrength)
  </div>
</section>

<section id="markov">
  <h2>5. Cadenas de Markov con Memoria</h2>

  <p>
    El corazón probabilístico de <strong>Rameau Machine</strong> es una cadena de Markov de primer orden, pero con una modificación crucial: las probabilidades de transición no son estáticas, sino que dependen del <em>estado interno</em> del sistema (la tensión acumulada).
  </p>

  <h3>Matriz Base de Transiciones</h3>

  <p>
    Definimos una matriz de transición basada en las convenciones de la armonía funcional:
  </p>

  <pre><code class="language-javascript">// Desde I (Tónica)
'I': { 'I': 0.05, 'ii': 0.15, 'iii': 0.1, 'IV': 0.25, 'V': 0.35, 'vi': 0.08, 'viiº': 0.02 }

// Desde V (Dominante)
'V': { 'I': 0.65, 'ii': 0.02, 'iii': 0.03, 'IV': 0.05, 'V': 0.05, 'vi': 0.18, 'viiº': 0.02 }

// Desde IV (Subdominante)
'IV': { 'I': 0.15, 'ii': 0.1, 'iii': 0.05, 'IV': 0.05, 'V': 0.5, 'vi': 0.1, 'viiº': 0.05 }</code></pre>

  <p>
    Observa que desde V, hay un 65% de probabilidad de ir a I (cadencia auténtica) y un 18% de ir a vi (cadencia rota/deceptiva).
  </p>

  <h3>Modificación Dinámica por Gravedad</h3>

  <p>
    Estas probabilidades base se modifican en tiempo real según la tensión acumulada:
  </p>

  <pre><code class="language-javascript">getTransitionProbabilities() {
    const baseProbs = TRANSITIONS[this.position];
    const modified = {};
    let total = 0;

    for (const [chord, prob] of Object.entries(baseProbs)) {
        const func = CHORDS[chord].function;
        let newProb = prob;

        if (func === 'T') {
            // Aumentar probabilidad hacia tónica según tensión
            newProb *= (1 + this.tension * this.gravityStrength);
        } else if (func === 'D' && this.tension > 0.5) {
            // Reducir dominante si ya hay mucha tensión
            newProb *= 0.7;
        }

        modified[chord] = newProb;
        total += newProb;
    }

    // Normalizar
    for (const chord in modified) {
        modified[chord] /= total;
    }

    return modified;
}</code></pre>

  <div class="note-box warning">
    <strong>¿Por qué no Markov puro?</strong><br>
    Una cadena de Markov sin memoria no puede modelar la <em>acumulación</em> de tensión. En la música real, tres acordes de dominante consecutivos crean más urgencia de resolución que uno solo. Nuestra modificación captura este fenómeno psicoacústico.
  </div>
</section>

<section id="voiceleading">
  <h2>6. Voice Leading: El Arte de la Conducción</h2>

  <p>
    Generar una secuencia de acordes es solo el primer paso. Para que suene como música real —no como una sucesión de bloques sonoros— necesitamos <em>voice leading</em>: la conducción suave de cada voz de un acorde al siguiente.
  </p>

  <h3>Disposición SATB</h3>

  <p>
    Trabajamos con cuatro voces en el estilo coral tradicional:
  </p>

  <div class="diagram">
    <pre>
Soprano ──────────────────────────────────  (C4 - G5)  voz aguda
Alto    ──────────────────────────────────  (G3 - D5)  voz media-alta
Tenor   ──────────────────────────────────  (C3 - G4)  voz media-baja
Bajo    ──────────────────────────────────  (E2 - C4)  voz grave, lleva la raíz
    </pre>
  </div>

  <h3>Reglas de Conducción</h3>

  <p>
    El <code>VoiceLeader</code> implementa las reglas clásicas del contrapunto:
  </p>

  <table>
    <thead>
      <tr>
        <th>Regla</th>
        <th>Descripción</th>
        <th>Penalización</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Quintas paralelas</td>
        <td>Dos voces no pueden moverse en quintas justas paralelas</td>
        <td>+50 puntos</td>
      </tr>
      <tr>
        <td>Octavas paralelas</td>
        <td>Dos voces no pueden moverse en octavas paralelas</td>
        <td>+50 puntos</td>
      </tr>
      <tr>
        <td>Cruce de voces</td>
        <td>Una voz inferior no puede subir por encima de una superior</td>
        <td>+30 puntos</td>
      </tr>
      <tr>
        <td>Salto grande</td>
        <td>Intervalos mayores a una sexta son desaconsejados</td>
        <td>+10 puntos</td>
      </tr>
      <tr>
        <td>Movimiento conjunto</td>
        <td>Se prefiere movimiento por grado conjunto (2das)</td>
        <td>-5 puntos (bonus)</td>
      </tr>
      <tr>
        <td>Resolución de sensible</td>
        <td>La sensible (7mo grado) debe resolver a tónica</td>
        <td>+20 puntos si no resuelve</td>
      </tr>
    </tbody>
  </table>

  <pre><code class="language-javascript">findOptimalVoicing(targetChord, previousVoicing) {
    const candidates = this.generateCandidates(targetChord);
    let bestVoicing = null;
    let bestScore = Infinity;

    for (const candidate of candidates) {
        let score = 0;

        // Evaluar movimiento total
        score += this.totalMovement(previousVoicing, candidate);

        // Penalizar paralelas
        if (this.hasParallelFifths(previousVoicing, candidate)) score += 50;
        if (this.hasParallelOctaves(previousVoicing, candidate)) score += 50;

        // Penalizar cruces
        if (this.hasVoiceCrossing(candidate)) score += 30;

        // Bonus por movimiento conjunto
        score -= this.stepwiseMotionBonus(previousVoicing, candidate) * 5;

        if (score < bestScore) {
            bestScore = score;
            bestVoicing = candidate;
        }
    }

    return bestVoicing;
}</code></pre>

  <div class="note-box">
    <strong>Resultado Audible:</strong> Gracias al voice leading, las transiciones suenan fluidas y naturales. Las voces "cantan" líneas melódicas coherentes en lugar de saltar erráticamente entre notas.
  </div>
</section>

<section id="implementacion">
  <h2>7. Implementación Técnica</h2>

  <h3>Arquitectura General</h3>

  <div class="diagram">
    <pre>
┌─────────────────────────────────────────────────────────────────────┐
│                        RAMEAU MACHINE                               │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────────────┐  │
│  │ TonalGravity │───▶│ VoiceLeader  │───▶│ VoiceLeadingSynth    │  │
│  │              │    │              │    │                      │  │
│  │ - tensión    │    │ - SATB       │    │ - 4 osciladores      │  │
│  │ - position   │    │ - reglas     │    │ - ADSR envelopes     │  │
│  │ - markov     │    │ - scoring    │    │ - bajo continuo      │  │
│  └──────────────┘    └──────────────┘    └──────────────────────┘  │
│         │                                          │                │
│         ▼                                          ▼                │
│  ┌──────────────┐                        ┌──────────────────────┐  │
│  │TonalForceField│                        │    Web Audio API     │  │
│  │              │                        │                      │  │
│  │ - D3.js      │                        │ - AudioContext       │  │
│  │ - force sim  │                        │ - GainNode           │  │
│  │ - anillos    │                        │ - MediaRecorder      │  │
│  └──────────────┘                        └──────────────────────┘  │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
    </pre>
  </div>

  <h3>Sistema de Transposición</h3>

  <p>
    Para permitir cualquier tonalidad, usamos un sistema de transposición basado en semitonos:
  </p>

  <pre><code class="language-javascript">const KEY_PITCH = {
    'C': 0, 'C#': 1, 'Db': 1, 'D': 2, 'D#': 3, 'Eb': 3,
    'E': 4, 'F': 5, 'F#': 6, 'Gb': 6, 'G': 7, 'G#': 8,
    'Ab': 8, 'A': 9, 'A#': 10, 'Bb': 10, 'B': 11
};

function transposeNote(baseMidi, key) {
    const offset = KEY_PITCH[key] || 0;
    return baseMidi + offset;
}</code></pre>

  <p>
    Los acordes se definen en Do mayor y se transponen en tiempo real según la tonalidad seleccionada.
  </p>

  <h3>Ritmo Armónico</h3>

  <p>
    La duración de cada acorde varía según su función y la tensión acumulada:
  </p>

  <pre><code class="language-javascript">getDuration(chord, tension) {
    const func = CHORDS[chord].function;
    const baseDuration = 60000 / this.tempo; // ms por pulso

    let multiplier = 1.0;

    if (func === 'T') {
        multiplier = 1.5; // Tónica respira más
    } else if (func === 'D' && tension > 0.6) {
        multiplier = 0.7; // Dominante urgente
    }

    // Rubato en estilo romántico
    if (this.style === 'romantic') {
        multiplier *= 0.9 + Math.random() * 0.2;
    }

    return baseDuration * multiplier;
}</code></pre>

  <h3>Visualización con D3.js</h3>

  <p>
    Los acordes se disponen en anillos concéntricos usando una simulación de fuerzas:
  </p>

  <pre><code class="language-javascript">// Fuerza radial según función
const functionRadii = {
    'T': height * 0.08,  // Centro (con espacio para separar I, vi, iii)
    'D': height * 0.25,  // Anillo medio
    'S': height * 0.40   // Anillo exterior
};

const forceRadial = d3.forceRadial(d => functionRadii[d.function], cx, cy)
    .strength(0.8);

simulation
    .force('radial', forceRadial)
    .force('collide', d3.forceCollide(40))
    .force('charge', d3.forceManyBody().strength(-100));</code></pre>
</section>

<section id="comparativa">
  <h2>8. Rameau vs. Riemann: Dos Geometrías</h2>

  <p>
    Es instructivo comparar <strong>Rameau Machine</strong> con <strong>Tonnetz Atractor</strong>, que implementa el paradigma neo-riemanniano.
  </p>

  <table>
    <thead>
      <tr>
        <th>Aspecto</th>
        <th>Rameau Machine</th>
        <th>Tonnetz Atractor</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Geometría</td>
        <td>Anillos concéntricos (jerarquía)</td>
        <td>Toroide (espacio homogéneo)</td>
      </tr>
      <tr>
        <td>Centro</td>
        <td>Tónica como atractor</td>
        <td>Sin centro privilegiado</td>
      </tr>
      <tr>
        <td>Transiciones</td>
        <td>Funcionales (T→S→D→T)</td>
        <td>Parsimoniosas (P, L, R)</td>
      </tr>
      <tr>
        <td>Tensión</td>
        <td>Acumulativa, se resuelve</td>
        <td>Uniforme</td>
      </tr>
      <tr>
        <td>Repertorio ideal</td>
        <td>Barroco, Clásico, Jazz standards</td>
        <td>Romántico tardío, cine, ambient</td>
      </tr>
      <tr>
        <td>Ejemplo canónico</td>
        <td>I - IV - V - I</td>
        <td>C - E - Ab (eje mayor-tercera)</td>
      </tr>
    </tbody>
  </table>

  <div class="note-box info">
    <strong>Complementarios, no Opuestos:</strong> Estos dos sistemas no son mutuamente excluyentes. Compositores como Brahms usaron ambos: estructura funcional a gran escala con transformaciones neo-riemannianas a nivel local. Explorar ambos te dará un vocabulario armónico más rico.
  </div>

  <div class="epigraph">
    "La armonía funcional es la gramática de la música tonal; las transformaciones neo-riemannianas son su retórica."
    <div class="epigraph-source">— Richard Cohn, <em>Audacious Euphony</em></div>
  </div>
</section>

<section id="conclusiones">
  <h2>9. Conclusiones</h2>

  <p>
    <strong>Rameau Machine</strong> demuestra que los principios de armonía funcional de hace 300 años pueden implementarse como sistemas generativos contemporáneos. La combinación de:
  </p>

  <ul>
    <li><strong>Cadenas de Markov</strong> con probabilidades dinámicas</li>
    <li><strong>Gravedad tonal</strong> como metáfora física</li>
    <li><strong>Voice leading</strong> algorítmico</li>
    <li><strong>Visualización interactiva</strong> de funciones armónicas</li>
  </ul>

  <p>
    ...produce progresiones que suenan coherentes y "musicales" porque respetan las expectativas que tres siglos de práctica musical han inscrito en nuestros oídos.
  </p>

  <p>
    Más allá del ejercicio técnico, el proyecto invita a reflexionar sobre la naturaleza de la creatividad musical. ¿Es la armonía funcional un descubrimiento (leyes naturales de la acústica y la cognición) o una invención (convenciones culturales arbitrarias)? Rameau creía lo primero; la existencia de sistemas musicales no tonales sugiere lo segundo. Quizá la verdad, como siempre, yace en algún punto intermedio.
  </p>

  <p style="text-align: center; font-style: italic; margin-top: 2rem;">
    La armonía no está en los acordes individuales.<br>
    Está en la gravedad que los conecta.
  </p>
</section>

<section id="referencias">
  <h2>Referencias</h2>

  <div class="references">
    <p>[1] Rameau, J.P. (1722). <em>Traité de l'harmonie réduite à ses principes naturels</em>. Paris: Ballard.</p>
    <p>[2] Christensen, T. (1993). <em>Rameau and Musical Thought in the Enlightenment</em>. Cambridge University Press.</p>
    <p>[3] Kostka, S. & Payne, D. (2012). <em>Tonal Harmony</em> (7th ed.). McGraw-Hill.</p>
    <p>[4] Temperley, D. (2007). <em>Music and Probability</em>. MIT Press.</p>
    <p>[5] Tymoczko, D. (2011). <em>A Geometry of Music</em>. Oxford University Press.</p>
    <p>[6] Cohn, R. (2012). <em>Audacious Euphony: Chromaticism and the Triad's Second Nature</em>. Oxford University Press.</p>
    <p>[7] Lerdahl, F. & Jackendoff, R. (1983). <em>A Generative Theory of Tonal Music</em>. MIT Press.</p>
    <p>[8] Huron, D. (2006). <em>Sweet Anticipation: Music and the Psychology of Expectation</em>. MIT Press.</p>
  </div>
</section>

<footer style="margin-top: 3rem; padding-top: 1.5rem; border-top: 1px solid #e0e0e0; text-align: center; color: #666; font-size: 0.9em;">
  <p>
    Demo interactiva: <a href="https://cjlkaiser-cpu.github.io/physics-sound-lab/generativos/rameau-machine/">Rameau Machine</a>
  </p>
  <p>
    Physics Sound Lab · 2025
  </p>
</footer>

</body>
</html>
